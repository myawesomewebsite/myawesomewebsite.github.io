!function(){function e(e,t){if(navigator.sendBeacon)navigator.sendBeacon(e,t);else try{var n="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.open("POST",e,!0),n.setRequestHeader("Content-Type","text/plain"),n.send(t)}catch(e){}}function t(t,n){var o;console.error(t),o=t.name&&t.message?"".concat(t.name,": ").concat(t.message):JSON.stringify(t),e("https://t.poki.io/l",JSON.stringify({c:"observer-error",ve:7,d:[{k:"where",v:n},{k:"error",v:o}]}))}var n={},o=document,a=o.documentElement,i=o.body,r=o.compatMode,c=i&&i.clientWidth&&i.clientHeight;a&&a.clientWidth&&a.clientHeight&&("CSS1Compat"===r||!c)?n.size=a.clientWidth+"x"+a.clientHeight:n.size=i.clientWidth+"x"+i.clientHeight;var s=0,l=Date.now(),g="visible"===document.visibilityState;document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState?g||(g=!0,l=Date.now()):g&&(g=!1,s+=Date.now()-l)}));var u=[];function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function e(){window.gtag?window.gtag("event","optimize.callback",{callback:function(e,t){u.push(t)}}):setTimeout(e,10)}();var p={action:"a",browser_size:"bs",category:"c",connect:"co",connection_type:"ct",count:"cn",cpus:"cu",data:"d",depth:"de",dns:"dn",dom_complete:"dc",domain:"do",experiment:"ex",fcp:"fcp",first_byte:"fb",flash_version:"f",ga_client_id:"gc",game_id:"gid",game_version_id:"vid",gclid:"gl",has_adblock:"ha",id:"id",interaction:"i",is_new:"in",key:"k",label:"l",landing_page:"lp",language:"la",last_byte:"lb",message:"m",name:"n",nav:"n",optimize:"o",page:"p",path:"pa",previous_page:"pp",previous_tab_id:"pt",protocol:"pr",query_params:"qp",referrer:"r",screen_resolution:"sc",session:"s",site_id:"si",source:"so",stack:"s",tab_id:"ti",tabs:"tb",tag_id:"t",time_on_page:"tp",time_on_previous_page:"tr",time_on_site:"ts",time_spa_load:"sl",time_visible:"tv",time_visible_previous_page:"tvp",timeout:"to",timestamp:"tt",timezone:"tz",transfer_size:"tr",tti:"tti",type:"ty",user:"u",user_id:"ui",value:"v",version:"ve"};function m(e){return Object.keys(e).forEach((function(t){if(!p[t])return console.error("unknown field ".concat(t)),void delete e[t];if(Array.isArray(e[t])){if(0===e[t].length)return void delete e[t];for(var n=0;n<e[t].length;n++)e[t][n]=m(e[t][n])}else{if(null===e[t]||void 0===e[t])return void delete e[t];"object"===d(e[t])&&m(e[t])}var o=p[t];t!==o&&(e[o]=e[t],delete e[t])})),e}var v="\ngoogle.[a-z]{2,3}\ngoogle.[a-z]{2,3}.[a-z]{2,3}\nyandex.[a-z]{2,3}\nyandex.[a-z]{2,3}.[a-z]{2,3}\nbaidu.[a-z]{2,3}.[a-z]{2,3}\nyahoo.[a-z]{2,3}\nyahoo.[a-z]{2,3}.[a-z]{2,3}\naol.com\nask.com\navg.com\nbabylon.com\nbing.com\ncom.google.android.googlequicksearchbox\nduckduckgo.com\ngoogleweblight.com\ninfo.com\nint.search.myway.com\nizito.com\nmsn.com\nmyway.com\nnaver.com\nqo-search.com\nr.searchencrypt.com\nsearch-results.com\nsearchlock.com\nseznam.cz\nso.com\nsogou.com\nstartgoogle.startpagina.nl\nstartpage.com\nstartsiden.no\nvirgilio.it\nwebcache.googleusercontent.com\nwp.pl\nzapmeta.com\n".trim().replace(/\./g,"\\.").split("\n").join("|"),f=new RegExp("(".concat(v,")$")),y="\ngoogleads.g.doubleclick.net\ntpc.googlesyndication.com\nimasdk.googleapis.com\nwww.googleadservices.com\n".trim().split("\n");function h(e,t){var n,o,a=(n=t,(o=document.createElement("a")).href=n,o.hostname);return y.includes(a)?"paid":e.includes("gclid=")||e.includes("utm_source")?"paid":f.test(a)?"search":t?"referral":"direct"}var b="ob_tabs";try{localStorage.setItem(b,(parseInt(localStorage.getItem(b),10)||0)+1)}catch(e){}window.addEventListener("beforeunload",(function(){try{localStorage.setItem(b,(parseInt(localStorage.getItem(b),10)||1)-1)}catch(e){}}));var _=window;_.tracker=_.tracker||[];var w=_.tracker,z="onpagehide"in _?"pagehide":"unload";for(w.uniqueEvents={},w.firstPageview=!0,w.push=function(e,n,o,a,i,r,c,s,l,g){var u,d;try{g((function(){try{if(!u||!d)return;var e={tab_id:u,time_visible:s(),time_on_page:Date.now()-d,timestamp:Date.now(),version:7};e=m(e),o("https://t.poki.io/top",JSON.stringify(e))}catch(e){t(e,"beforeunload")}}))}catch(e){console.error(e)}return function(g){if("function"!=typeof g)try{if(g.version=7,!g.category)return;if("metrics"===g.category)return g.timestamp=Date.now(),g=m(g),void o("https://t.poki.io/m",JSON.stringify(g));if(g.once_per_pageview){var p="".concat(g.category,"-").concat(g.action||"","-").concat(g.label||"");if(n.uniqueEvents[p])return;n.uniqueEvents[p]=!0}if(delete g.once_per_pageview,"pageview"===g.category){n.uniqueEvents={};var v=function(e,t){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]".concat(e,"=([^&#]*)")).exec(t);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}("gclid",e.location.search);v&&(g.gclid=v),g.query_params=e.location.search.substr(1)}if(void 0!==g.action&&null!==g.action&&(g.action=g.action.toString()),""===g.action&&delete g.action,void 0!==g.label&&null!==g.label&&(g.label=g.label.toString()),""===g.label&&delete g.label,Array.isArray(g.data))for(var f=0;f<g.data.length;f++)void 0!==g.data[f].value&&null!==g.data[f].value&&(g.data[f].value=g.data[f].value.toString());else delete g.data;if(g.tabs=r(),g.cpus=e.navigator.hardwareConcurrency||0,g.domain=e.location.hostname,g.protocol=e.location.protocol.substr(0,e.location.protocol.length-1),g.optimize={},g.timezone=(new Date).getTimezoneOffset(),g.time_visible=s(),g.timestamp=Date.now(),e.navigator.connection&&e.navigator.connection.effectiveType&&(g.connection_type=e.navigator.connection.effectiveType),g.user&&(g.user.language=e.navigator.language),g.screen_resolution=e.screen.width+"x"+e.screen.height,g.browser_size=a.size,"pageview"===g.category?(g.time_visible_previous_page=s(),l()):g.time_visible=s(),"pageview"===g.category&&n.firstPageview&&e.performance&&e.performance.getEntriesByType)try{var y=e.performance.getEntriesByType("navigation");if(y.length>0){var h=y[0];g.nav={connect:Math.round(h.connectEnd-h.connectStart),dns:Math.round(h.domainLookupEnd-h.domainLookupStart),dom_complete:Math.round(h.domComplete),first_byte:Math.round(h.responseStart-h.requestStart),last_byte:Math.round(h.responseEnd-h.requestStart),transfer_size:h.transferSize}}}catch(e){}var b=i();if(e.google_optimize)for(var _=0;_<b.length;_++){var w=b[_],z=e.google_optimize.get(w);z&&(g.optimize[w]=z)}try{g.ga_client_id=e.ga.getByName("pokitotal").get("clientId")}catch(e){}var S=g.session&&g.session.id||"";g.source=c(S,e.location.search,g.referrer||e.document.referrer),"pageview"===g.category&&(u=g.tab_id,d=e.session&&e.session.page&&e.session.page.start||Date.now()),g=m(g),o("https://t.poki.io/t",JSON.stringify(g)),"pageview"===g.category&&(n.firstPageview=!1)}catch(e){t(e,"push")}else g()}}(_,w,e,n,(function(){return u}),(function(){try{return parseInt(localStorage.getItem(b),10)||1}catch(e){}return 1}),(function(e,t,n){try{var o=(localStorage.getItem("ob_source")||"").split(":");if(o[0]!==e){o[0]=e,o[1]=h(t,n);try{localStorage.setItem("ob_source",o.join(":"))}catch(e){}}return o[1]}catch(e){}return""}),(function(){var e=s;return g&&(e+=Date.now()-l),e}),(function(){s=0,l=Date.now(),g="visible"===document.visibilityState}),(function(e){return _.addEventListener(z,e,{capture:!0})}));w.length>0;)w.push(w.shift())}();
